[gd_scene load_steps=6 format=3 uid="uid://xes7inmy3vci"]

[ext_resource type="Script" path="res://demos/demo2/scripts/Terrain.gd" id="1_y5c03"]
[ext_resource type="PackedScene" uid="uid://crt5nysobiy5s" path="res://demos/demo2/collisionmap/collisionmap.tscn" id="2_8h3lw"]
[ext_resource type="PackedScene" uid="uid://di2sqd72jmgyv" path="res://demos/demo2/scenes/PlayerCharacter.tscn" id="3_mf8bh"]
[ext_resource type="Script" path="res://demos/demo2/collisionmap/collisionmap.gd" id="4_spei5"]

[sub_resource type="PlaneMesh" id="PlaneMesh_vhrpu"]
size = Vector2(32, 32)
subdivide_width = 31
subdivide_depth = 31

[node name="Main" type="Node3D"]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.926345, 0.376677, 0, -0.376677, 0.926345, 0, 24.1259, 0)

[node name="PlayerCharacter" parent="." instance=ExtResource("3_mf8bh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 6.5661, 0)

[node name="Terrain" type="StaticBody3D" parent="."]
script = ExtResource("1_y5c03")
deformity_level = 8
chunk_size = 32
template_mesh = SubResource("PlaneMesh_vhrpu")
heightmap_array = [1.60726, 0.962515, 0.429531, 0.604266, 0.273185, -0.932769, -1.53386, -1.77586, -1.51083, -1.36669, -1.64542, -1.62801, -1.53194, -2.07549, -2.34019, -2.00781, -1.52043, -1.30551, -1.03136, -1.19162, -1.78078, -2.10529, -2.7333, -2.22381, -2.01113, -2.35333, -2.33894, -2.57749, -2.26216, -2.02104, -1.77555, -1.33262, -0.356883, 1.23609, 0.895324, 0.239073, -0.203696, -0.0276429, -1.33104, -1.9216, -1.69201, -2.1302, -1.72154, -1.42374, -0.9608, -0.952979, -1.03548, -1.28847, -0.575872, -0.291339, -0.111881, 0.416509, -0.322639, -0.473629, -1.78586, -2.51469, -2.26767, -2.30422, -2.567, -2.52558, -3.01327, -4.10095, -3.63629, -3.56348, -2.85808, -1.81275, 0.693183, 0.640539, -0.417884, -0.954532, -0.653827, -1.14356, -1.90909, -1.81891, -2.16484, -1.59364, -0.265911, 0.181566, 0.501181, -0.0219059, -0.235714, 0.323696, 0.362145, 0.614201, 1.16826, 0.685499, -0.210172, -1.24477, -2.28048, -1.94145, -1.96053, -2.43472, -2.62269, -3.23836, -4.81748, -4.90102, -4.3353, -3.12234, -2.22424, 0.257051, -0.0532284, -0.565047, -0.651509, -0.269844, -0.182748, -1.16824, -1.93579, -1.8078, -0.394818, 0.712842, 0.846657, 1.07066, 0.402267, 0.0654163, -0.204504, 0.225001, 0.560217, 1.11124, 0.131854, -0.565752, -0.937915, -1.40928, -1.93652, -1.53886, -1.74557, -2.35702, -3.4205, -3.59981, -3.8496, -3.10916, -2.9235, -2.92023, 0.160626, 0.0485115, 0.103591, 0.108797, 0.184942, -0.066285, -0.555711, -1.37112, -0.943436, 0.178069, 0.0411291, -0.259595, 0.30743, 0.717996, 0.146256, 0.326201, 0.460214, 0.114311, 0.551417, -0.0755612, 0.218107, -0.350254, -1.38024, -1.03389, -0.426159, -1.05117, -1.65805, -2.26518, -2.40989, -2.80885, -2.98726, -3.2015, -2.57304, 0.652289, 0.492288, 0.761731, 0.531742, 0.24043, -0.210512, -0.192983, 0.00801361, -0.152236, 0.685999, -0.0218884, -0.429241, -0.279895, 0.578501, -0.0474035, 0.693666, 0.45282, 0.0116086, 0.435462, -0.567343, -0.325433, -0.303813, -1.09579, -0.185984, 0.694339, -0.00852645, -0.510355, -0.628882, -1.08119, -1.54039, -2.18044, -2.53337, -3.06996, 1.31841, 1.16681, 1.07734, 0.405087, 0.0616534, -0.495505, 0.0, 0.195647, 0.368624, 0.506625, 0.0638996, -0.463453, -0.363161, -0.140201, 0.218024, 0.318111, 0.0, -0.458676, 0.000769379, -0.574028, 0.254746, 0.0, -0.237492, -0.0242762, 0.686007, 0.552822, 0.0, -0.0316001, -0.772834, -1.63228, -1.5435, -2.06213, -2.63386, 1.82758, 2.05497, 1.71675, 0.579407, 0.534181, -0.567562, -0.0413766, 0.584836, 0.477048, 0.146635, 0.148886, -0.289889, -0.0305387, -0.439049, -0.130475, 0.614416, 0.551452, -0.0499745, 0.0734374, -0.393717, 0.325115, 0.883945, 0.636072, 1.10129, 1.6874, 1.59467, 1.17151, 0.53262, -0.8715, -1.05797, -1.38564, -1.49771, -2.5775, 1.46876, 1.58179, 1.51333, 0.905251, 1.63539, 1.12941, 0.844276, 0.859677, 0.773775, 0.379189, -0.650297, -0.357706, 0.0549321, -0.348616, 0.347332, 0.435034, 0.47247, 0.745303, 0.644961, 0.163552, 0.763938, 1.04996, 1.60715, 2.53768, 2.14357, 2.79252, 2.0111, 1.09203, -0.143643, -0.54531, -1.72696, -1.91483, -2.11131, 0.0317878, 0.697563, 1.37625, 1.57962, 2.13349, 2.14492, 1.76974, 1.29964, 0.833454, 0.559261, -0.150334, 0.14754, -0.339667, -0.78694, -0.0772476, -0.729766, -0.242122, 0.240421, 0.240995, -0.104381, 0.772644, 1.40865, 1.91624, 3.36194, 3.02467, 3.05249, 2.29115, 0.420504, -0.512251, -0.798904, -1.30969, -1.98702, -2.30652, 0.722124, 0.953159, 1.28785, 2.07063, 2.38201, 2.56022, 1.61877, 1.24879, 0.826407, 0.719302, 0.86042, -0.0821857, -0.605184, -1.13416, -0.755798, -1.53546, -1.20478, -0.433921, -1.2718, -0.0575264, 0.186539, 0.635411, 1.48473, 3.2684, 3.67258, 3.22162, 2.01586, 0.81622, 0.246163, -0.711129, -0.641139, -0.272775, 0.115303, 1.15799, 1.56478, 1.96358, 2.57858, 2.88048, 2.27194, 1.72963, 0.952793, 0.528663, 1.0169, 0.726704, 0.235113, -0.730427, -1.10235, -0.771165, -1.43158, -1.35878, -1.13078, -1.65601, -0.812876, -0.142005, 0.206008, 1.13477, 2.30683, 3.32555, 3.32117, 2.33362, 1.29831, 0.864737, 0.639832, 0.490223, 0.9608, 1.47129, 0.883586, 1.53652, 2.62037, 3.10469, 2.99004, 2.15782, 1.06569, 0.0850351, -0.730713, -0.30391, 0.546501, 0.00848494, -0.535871, -1.33521, -1.14289, -1.75911, -1.80083, -1.44038, -1.30691, -1.05471, -0.694962, -0.146967, 0.386598, 1.47486, 2.63232, 2.8931, 2.05327, 0.971904, 1.09693, 1.65953, 1.57343, 1.66822, 2.16031, 1.23782, 1.60191, 2.04063, 2.19431, 2.0066, 0.889439, 0.260837, -0.94869, -1.02492, -0.537855, 0.774992, 0.0981347, -0.332154, -0.637888, -0.873816, -1.28305, -1.29004, -1.34804, -1.36438, -1.70478, -2.39232, -1.0414, 0.53167, 1.2334, 1.83328, 1.50484, 0.665506, -0.300878, -0.286907, 0.978834, 1.82073, 2.44072, 2.43543, 0.463732, 1.19394, 1.57267, 0.788707, 0.53258, 0.40383, -0.114345, -0.63896, -0.845559, -0.654455, -0.048806, -0.0665774, 0.274357, 0.448458, 0.392592, -0.112822, -0.0292267, -0.331886, -1.50618, -1.92006, -2.23271, -1.17584, -0.349022, 0.563017, 1.10407, 0.949942, 0.398257, -0.664359, -0.431208, 0.396233, 0.938469, 1.20169, 1.82947, 0.668395, 0.514777, 0.666699, 0.627722, 0.445217, 0.52398, 0.323225, -0.850569, -1.54138, -1.04757, 0.105294, 0.485786, 1.18337, 1.285, 1.20104, 1.02245, 0.442687, 0.0698279, -0.972806, -1.60619, -1.70949, -1.10392, -0.0520382, 0.164499, 0.155355, 0.351449, -0.331191, -0.718271, -0.586415, -0.418378, 0.329224, 0.51298, 1.36155, 0.773291, 0.3325, 0.2545, 0.173093, 0.550401, 0.481436, 0.0, -1.1152, -1.01258, -1.23993, -0.452627, 0.562824, 1.57393, 1.04026, 1.05297, 0.274077, 0.0, -0.368438, -0.966618, -0.67777, -1.58353, -0.562824, 0.542906, 0.620077, 0.938649, 0.544519, 0.0, -0.411674, -0.88671, -0.861263, -0.228898, 0.562824, 1.03637, -0.116504, -0.035808, -0.0815312, 0.20541, 0.0328439, 0.109586, -0.761176, -1.25353, -0.967146, -0.892906, -0.126099, 0.428892, 1.1621, 1.59092, 0.872529, -0.0767014, -0.714203, -1.19975, -1.12735, -1.37056, -0.919445, -0.130133, 0.362004, 1.01171, 0.853381, 0.870222, 0.106768, -0.303676, -0.801088, -1.36, -0.725889, 0.576005, 1.12846, -0.859076, -0.568301, -0.374407, -0.4169, -0.444621, -0.261413, -0.829072, -1.67883, -1.61028, -0.756039, 0.610418, 0.873763, 1.18012, 1.87908, 1.20896, -0.0382248, -0.360425, -0.930455, -1.02357, -0.779978, -0.961368, 0.578111, 0.949785, 0.541454, 0.112989, -0.426283, -0.991467, -1.37724, -1.61352, -1.58061, -1.22468, -0.207348, 0.545971, -1.23997, -0.676022, -1.02215, -1.22497, -1.02686, -0.886267, -2.11539, -2.3151, -2.31676, -1.38226, -0.0634111, 0.925097, 1.40924, 1.81606, 1.65226, 1.00469, 0.0889499, -0.0486967, -0.428225, 0.0873787, 0.0275799, 0.282176, 0.337407, 0.299435, 0.051378, -0.400194, -1.42566, -2.05708, -3.03494, -2.83797, -2.72507, -2.1105, -1.28683, -1.28736, -0.938113, -0.720827, -0.99214, -1.27134, -2.13048, -2.48686, -2.82676, -2.9949, -2.42719, -0.570696, -0.133525, 0.580193, 1.34655, 2.54362, 1.78601, 1.16848, 0.364807, -0.359152, 0.392021, 0.288955, -0.139311, -0.311258, -0.399529, -0.98564, -1.51593, -2.04929, -3.02639, -2.77828, -2.8035, -2.80448, -1.95399, -1.37891, -1.0892, -0.599196, -0.388286, -1.20164, -1.06892, -2.38264, -2.33362, -2.28713, -2.61799, -1.75578, -1.24798, -0.206008, 0.457916, 1.78368, 2.57264, 2.10308, 1.35878, 0.624685, -0.316736, -0.0562615, 0.687486, -0.235113, -0.678534, -0.432736, -1.03688, -1.03078, -1.72963, -2.33498, -3.03768, -2.75093, -2.59465, -2.38984, -1.99966, 0.193002, 0.0534798, 0.0622185, -0.494365, -1.14248, -1.53526, -1.60894, -1.64846, -2.1153, -2.41575, -1.38366, -0.0978525, 0.369903, 1.08827, 2.43403, 2.07727, 2.17517, 1.45328, -0.196467, 0.294638, 0.27679, -0.451329, -1.09292, 0.340747, 0.230784, 0.302733, -0.312032, -1.71999, -2.63183, -2.84568, -2.43289, -2.17857, -2.23123, 1.40033, 0.765408, 0.308876, -0.166443, 0.0820627, -0.813882, -1.75567, -1.51237, -1.7105, -2.89644, -2.70485, -1.16215, 0.508849, 2.04603, 2.34774, 1.91615, 1.91151, 1.2267, -0.167545, 0.0601314, 0.14822, -0.743983, -0.895833, -0.336945, 0.0415328, 1.12755, 0.106667, -0.853413, -1.22103, -1.08824, -1.9457, -2.15659, -1.50654, 0.662865, 0.271601, -0.293704, -0.644283, -0.435797, -0.576535, -0.88567, -1.16611, -1.85252, -2.97815, -2.73319, -1.44952, 0.595937, 1.71965, 2.03859, 1.46904, 0.98558, 1.01513, -0.270162, -0.44581, -0.0112004, -0.446739, -1.04198, -1.0007, -0.39623, 0.204893, -0.052155, -0.906727, -0.782055, -0.265054, -1.81011, -2.17009, -2.79238, 0.78046, -0.181101, -0.524509, -0.170071, 0.30522, -0.265187, -0.285647, -0.886677, -1.72099, -1.91538, -1.84741, -0.120407, 0.880524, 1.27581, 1.87451, 0.976624, 0.259501, -0.643239, -0.956603, -0.288825, 0.214101, 0.732149, 0.0757758, -0.282419, -0.439474, -0.574905, -0.296241, 0.198355, 0.0566919, -0.416612, -1.41888, -2.95624, -2.90377, 1.12686, 0.703355, -0.107684, 0.688874, 1.0166, 0.580913, 0.0, -0.193376, -1.18928, -1.67974, -1.26201, 0.0, 0.929079, 1.3911, 1.96297, 0.957994, 0.0, -0.797453, -0.717862, -0.0737171, 0.23583, 0.463453, 0.738896, -0.116896, -0.411037, -0.928913, 0.0, 0.347811, -0.305214, -0.425886, -0.950552, -2.52558, -3.11344, 1.17138, 1.32966, 1.06636, 1.12879, 1.70468, 1.45593, 1.20917, 0.199534, -0.741723, -1.51474, -0.650326, 0.110289, 1.14265, 1.61011, 1.61163, 0.261032, -0.502729, -1.24485, -0.760022, -0.0534438, 0.359197, 0.231315, 0.25649, 0.150058, -0.182999, -0.826573, -0.138684, -0.316958, -0.839114, -0.497309, -1.25128, -2.01444, -2.16537, 1.06446, 1.51949, 1.77493, 2.53901, 2.64061, 2.96573, 1.90523, 0.717429, 0.248458, -0.0362135, 0.453051, 0.888247, 0.990331, 0.971349, -0.107332, -0.962518, -1.9433, -1.94142, -1.5945, -0.842323, -0.00731871, 0.274874, -0.168102, -0.332131, -0.0227408, 0.0266091, -0.776331, -1.02463, -0.956856, -0.627743, -0.653222, -1.18989, -1.79597, 0.841194, 1.8965, 2.37708, 3.12382, 2.80367, 3.07285, 2.65695, 2.04281, 2.05283, 1.45111, 0.475935, -0.236616, 0.0640894, 0.0935831, -0.654402, -0.630819, -0.994234, -1.21194, -1.49854, -0.73593, -0.0151173, 0.133678, -0.586378, -0.263979, 0.280652, -0.0111835, -0.334087, -0.139105, -0.422535, -0.391674, -1.07866, -1.20783, -1.15841, -0.457684, 0.898257, 2.24738, 2.35296, 1.92651, 1.71053, 1.93535, 2.41962, 2.79712, 2.25795, 1.52134, 0.0977252, -0.504256, -0.473019, -0.402046, -0.442241, -1.09357, -1.64827, -1.2455, -0.432647, -0.225864, -0.308431, -0.484057, 0.233365, 0.354487, 0.0463276, 0.31066, 0.137447, -0.116461, -0.676217, -0.649849, -1.1746, -1.02238, -1.44433, -0.029105, 0.939854, 1.62909, 0.865697, 0.526026, 1.35878, 2.10014, 2.05296, 2.34422, 1.96345, 0.9608, -0.481574, 0.101503, 0.502655, 0.425371, 0.0, -0.650583, -0.412388, 0.486, 0.982646, 0.327711, -0.0639168, 0.339584, -0.0434387, 0.477275, 0.754793, 0.886225, 0.564099, -0.448762, -0.381791, -0.533719, -0.81797, -2.01141, -0.885213, -0.26644, -0.194713, -0.0739873, 0.449819, 0.710417, 1.36642, 1.50642, 2.15005, 2.40139, 1.42456, 0.596842, 0.715981, 1.273, 1.729, 1.55949, 1.29567, 0.899997, 1.45232, 1.10232, 0.655006, 0.181702, -0.337452, -0.180746, 0.55178, 1.52908, 1.69257, 1.2116, 0.163234, -0.416688, -0.897339, -1.07609]

[node name="Collisionmap" parent="Terrain" node_paths=PackedStringArray("physics_body") instance=ExtResource("2_8h3lw")]
script = ExtResource("4_spei5")
physics_body = NodePath("../../PlayerCharacter")
