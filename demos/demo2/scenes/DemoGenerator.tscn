[gd_scene load_steps=6 format=3 uid="uid://xes7inmy3vci"]

[ext_resource type="Script" path="res://demos/demo2/scripts/Terrain.gd" id="1_y5c03"]
[ext_resource type="PackedScene" uid="uid://crt5nysobiy5s" path="res://demos/demo2/collisionmap/collisionmap.tscn" id="2_8h3lw"]
[ext_resource type="PackedScene" uid="uid://di2sqd72jmgyv" path="res://demos/demo2/scenes/PlayerCharacter.tscn" id="3_mf8bh"]
[ext_resource type="Script" path="res://demos/demo2/collisionmap/collisionmap.gd" id="4_spei5"]

[sub_resource type="PlaneMesh" id="PlaneMesh_vhrpu"]
size = Vector2(32, 32)
subdivide_width = 31
subdivide_depth = 31

[node name="Main" type="Node3D"]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.926345, 0.376677, 0, -0.376677, 0.926345, 0, 24.1259, 0)

[node name="PlayerCharacter" parent="." instance=ExtResource("3_mf8bh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 6.5661, 0)

[node name="Terrain" type="StaticBody3D" parent="."]
script = ExtResource("1_y5c03")
deformity_level = 8
chunk_size = 32
template_mesh = SubResource("PlaneMesh_vhrpu")
heightmap_array = [2.27416, 2.27342, 1.65623, 2.0113, 2.40455, 1.67888, 1.81893, 2.85265, 2.83591, 2.16322, 1.27133, 0.032721, -1.01073, 0.070296, 0.169907, 1.03909, 0.815636, 0.924391, -0.185296, 0.951907, 0.851399, 0.437604, 0.430709, 0.29307, 0.0333249, -0.929193, -1.50848, -1.89814, -1.21924, -0.912769, 0.0465291, 0.159664, 0.0333599, 2.8344, 2.31958, 1.53578, 1.68333, 1.40509, 1.86415, 2.2541, 2.94746, 2.87028, 1.99959, 1.34332, 0.0, -0.914807, -0.475666, -0.746302, -0.507034, -0.191969, -0.379456, -0.718118, -0.410338, 1.01046, 0.703355, 0.743892, 1.44985, 0.742676, -0.217759, -0.463454, -0.828267, -0.596387, -0.0428565, 0.892668, 0.689316, 0.37574, 2.07945, 1.98944, 1.28054, 0.90103, 0.888138, 1.81777, 2.42299, 2.95397, 2.40617, 2.18812, 1.37124, 0.267552, -0.917427, -1.68573, -1.68133, -1.47046, -1.35752, -2.20187, -1.86656, -0.488226, 0.578463, 0.548835, 1.36096, 2.41097, 1.79811, 0.747929, -0.0329042, 0.159691, 0.88158, 1.10831, 0.960332, 1.09053, 0.952177, 1.78836, 1.28746, 1.68892, 1.54865, 1.24154, 0.957905, 1.83667, 2.28218, 1.14635, 1.41011, 0.662261, -0.210502, -1.58323, -1.65365, -1.10522, -1.08687, -1.86727, -1.95038, -1.68403, -0.307412, 0.206133, 1.57465, 2.1936, 2.88464, 3.29184, 2.29794, 1.63529, 1.08075, 1.42957, 0.812742, 0.888039, 1.7875, 2.71955, 0.610259, 1.31005, 1.47963, 1.68981, 1.29895, 1.17815, 1.31846, 1.2895, 0.467491, 0.559238, 0.3711, -0.636872, -0.502807, -0.688005, -0.311571, -0.227525, -0.779737, -0.913454, -0.898792, 0.105626, 0.449005, 1.486, 2.51856, 2.45705, 2.7458, 2.27447, 1.81781, 1.84092, 1.6301, 0.551818, 0.340598, 1.60374, 1.99933, 0.231822, 0.282229, 0.879395, 1.7337, 1.06527, 1.22137, 1.37824, 1.32638, 0.244676, -0.55542, -0.522295, -0.76149, -0.674502, 0.320449, 0.11527, 0.195177, 0.086321, 0.0492055, 0.452074, 0.0705001, 0.718866, 0.940988, 1.59196, 1.75964, 1.82538, 1.19517, 0.885893, 0.988613, 0.691335, 0.119694, 0.107467, 0.442224, 0.772191, -0.528324, -0.291339, 0.10298, 0.765066, 0.576129, 0.120784, 0.0, -0.2689, -0.82416, -1.46369, -0.779133, -0.603984, -0.545045, 0.372184, -0.155563, -0.208569, 0.0, 0.227315, 0.212875, -0.500268, 0.290748, 0.603984, 0.535575, 1.39123, 1.42787, 0.432666, 0.0, -0.102082, -0.834797, -0.717419, -0.0632669, 0.191969, 0.556726, -1.51914, -0.918542, -0.495466, -0.421272, -0.411607, -1.1367, -1.69173, -1.64233, -2.00618, -1.79307, -1.60376, -0.787505, -0.269738, 0.126772, 0.227889, 0.00341282, 0.590459, 0.58306, 0.32078, -0.577266, -0.0510967, 0.418721, 0.601554, 1.34305, 1.12884, -0.0297302, -0.638708, -1.00507, -1.63111, -2.11585, -1.16085, -0.385781, 0.315812, -2.44177, -2.38824, -1.90878, -1.46517, -1.12823, -1.47107, -1.20161, -1.81592, -1.62303, -1.55431, -1.74298, -1.41082, 0.396642, 0.625647, 1.12567, 1.25953, 1.3592, 1.91302, 1.27539, -0.219238, -0.61832, -0.236379, 0.232113, 0.241815, 0.34396, 0.108419, -1.01878, -1.58774, -1.81489, -2.56361, -2.12819, -0.900962, -0.896991, -2.05222, -2.36287, -2.36753, -2.31144, -1.96437, -1.68061, -0.900442, -1.06355, -1.43315, -1.40041, -1.29976, -0.432855, 0.769997, 0.7793, 1.4999, 1.48051, 1.95139, 1.58797, 1.63397, 0.671005, 0.103908, 0.566715, 0.108957, -0.43976, -0.0504018, 0.661666, -1.02595, -1.79612, -2.22469, -2.95792, -2.21761, -1.48316, -0.626859, -1.56179, -1.72002, -1.93779, -2.55408, -1.58902, -1.27968, -0.470028, -0.395954, -0.840892, -0.429177, -0.325698, -0.214657, 0.18613, 0.707087, 2.34056, 2.47864, 2.27469, 1.7559, 1.6782, 1.55069, 0.836408, 1.10568, 1.2021, 0.59023, 0.340459, 0.306742, -0.583357, -1.84155, -2.59881, -3.55271, -2.19416, -1.51868, -1.32901, -1.52767, -2.04809, -2.43929, -3.07031, -2.06791, -2.21241, -1.45815, -0.649019, -0.382778, 0.656175, 0.458515, 0.725688, 0.953046, 1.41423, 2.99027, 2.971, 2.71755, 2.76688, 2.35167, 2.94733, 2.18373, 2.12761, 2.04108, 0.762166, 0.276656, -0.279599, -1.08729, -1.94301, -3.19807, -3.16432, -2.71524, -1.85612, -1.91473, -1.54052, -2.20527, -2.37697, -3.21384, -3.01892, -2.76633, -1.57952, -0.729419, 0.549452, 1.01573, 1.48164, 1.74337, 2.01804, 2.10371, 2.76229, 2.5477, 2.27329, 2.64963, 2.69815, 3.68899, 3.58692, 2.85955, 2.22645, 0.896946, -0.153293, -0.83723, -1.60699, -2.63995, -3.61105, -3.71069, -3.06826, -2.26642, -1.84543, -1.83124, -1.69961, -1.55768, -2.19866, -1.99327, -1.20412, -0.809625, -0.29264, 0.976795, 1.26786, 1.10194, 1.78873, 2.09094, 1.59027, 1.289, 1.38836, 1.20477, 1.3922, 2.35403, 3.50133, 4.33252, 3.24498, 2.32442, 1.13346, -0.566323, -1.45153, -2.14648, -2.46556, -3.65932, -3.75915, -3.65075, -2.62932, -2.02117, -1.53061, -1.54441, -1.11937, -1.39848, -1.37994, -0.980767, -0.416761, 0.732392, 1.89155, 1.73454, 1.32039, 1.18915, 1.10801, 0.171656, -0.187245, 0.282668, 0.875384, 1.08841, 2.36139, 3.0975, 3.47279, 3.58077, 2.26884, 1.70561, 0.154184, -0.710111, -1.42108, -2.09136, -2.86565, -3.08174, -3.32785, -1.57374, -0.736147, -1.26961, -1.82831, -1.62072, -0.178024, -0.378278, 0.136215, 0.208572, 1.11614, 2.04872, 2.36307, 1.77726, 0.978855, 0.335391, -1.09587, -1.63709, -0.688585, 0.454403, 1.55975, 2.27732, 2.57249, 2.64943, 2.2873, 1.85291, 1.95595, 0.618728, 0.00843246, -0.70671, -1.20147, -1.58599, -1.76331, -1.85101, -0.959444, -0.162988, -0.600144, -0.795953, -1.03744, -0.693307, -0.640984, -0.307559, 0.0, 0.728814, 1.39958, 2.22338, 1.77778, 0.795953, -0.145355, -1.00044, -1.77677, -1.34866, 0.0, 1.50949, 2.32205, 2.26876, 1.85297, 2.02097, 1.92779, 1.22992, 0.520967, 0.407219, 0.0, -1.15623, -1.37161, -1.98627, -1.43679, -0.895323, 0.287944, 0.172148, 0.362889, -0.00932799, -0.901068, -0.76448, -1.40126, -0.766896, -0.071681, 1.07615, 1.46366, 1.84268, 0.757431, -0.327765, -1.14484, -1.63142, -1.12193, -0.0115047, 1.16937, 1.67109, 2.3556, 1.82222, 2.17395, 1.44861, 0.91863, 0.52391, 1.22161, 0.648805, -0.412451, -1.21541, -2.28734, -1.40766, -0.625331, -0.0344006, 0.263253, 0.448538, 1.29624, 0.416412, -0.201264, -0.690285, 0.0793603, 0.395123, 1.35528, 1.04206, 1.0584, 0.147676, -1.45752, -1.73689, -1.75379, -0.608799, -0.276606, 0.542594, 1.01372, 1.1053, 1.26121, 0.675494, 0.82619, 1.42963, 1.46426, 1.52871, 1.28126, 0.473532, -0.25261, -1.00075, -1.31048, -0.578308, 0.496544, 0.605279, 0.947914, 1.62366, 1.11795, 1.05627, 0.902568, 1.29718, 1.84984, 2.46114, 1.77613, 0.507681, -0.623428, -1.65695, -1.56372, -1.64452, -1.55458, -1.36709, -1.42045, -0.734049, -0.11791, 0.738257, 0.536832, 0.949073, 1.4808, 2.08779, 2.61638, 2.19742, 1.35658, 0.14139, -0.534205, -1.06122, -0.169303, 0.194354, 0.717382, 1.14054, 1.15394, 1.283, 1.83579, 2.02512, 1.9605, 2.14539, 2.38383, 1.64368, 0.487557, -0.530841, -1.1022, -1.13333, -1.33915, -1.99549, -1.85139, -1.9423, -2.05731, -1.04486, -0.369827, 0.235845, 0.467956, 1.54185, 1.74777, 1.79554, 1.95275, 1.72064, 0.343441, -0.550056, -0.508545, -0.076717, -0.090695, 0.452419, 0.633089, 0.503367, 1.47837, 1.30295, 1.73721, 1.45815, 1.52968, 2.29319, 1.89901, 1.09514, 0.262234, -0.260006, -0.96602, -0.946819, -1.71502, -1.9216, -2.0048, -2.12541, -0.837234, 0.0876579, 0.497347, 0.796902, 1.79051, 1.35414, 1.36642, 1.08729, 0.821799, 0.469429, -0.875484, -0.742035, -0.441121, -0.334844, 0.0176217, 0.255002, 0.664686, 1.43329, 1.59759, 1.06362, 0.301798, 0.684863, 2.11944, 2.45163, 1.28749, 0.998942, 0.681605, -0.781922, -1.32587, -1.62517, -1.93951, -1.9965, -1.66301, -0.33851, 0.0747246, 0.41968, 0.91196, 1.48987, 1.49353, 0.93815, 0.136166, 0.62558, 0.340975, -0.594729, -1.12761, -1.05494, -1.02446, -1.14469, -0.0535164, 0.729959, 1.16724, 0.874308, 1.03782, 1.01967, 0.40554, 1.41864, 2.2614, 1.13241, 0.675239, 0.522274, 0.0501309, -1.17791, -2.19965, -2.34224, -2.04598, -2.06303, -1.14971, -0.963309, -0.00526649, 0.429101, 0.976194, 1.74294, 1.1768, 0.677147, 0.47999, 0.294045, -0.507631, -1.15811, -1.5989, -1.91979, -1.15347, -0.776663, 0.0382414, 0.750925, 0.778034, 1.35885, 1.01192, 0.741096, 0.532708, 1.27576, 0.534594, 0.485744, 0.403961, 0.0097786, -1.03383, -1.62077, -1.66964, -1.52139, -1.93578, -1.31261, -0.730165, 0.200041, 0.348637, 0.0823413, 1.10553, 1.51471, 1.0867, 1.40492, 0.210155, -1.02878, -1.3473, -2.1817, -2.35318, -1.28383, -1.22878, -0.50558, 0.0733257, 0.726354, 0.598725, 0.655549, 0.514199, -0.0897983, -0.0973443, -0.263336, -0.318916, -0.60149, -0.659592, -0.462102, -0.854524, -0.956379, -0.834752, -1.21348, -0.916456, -0.294117, -0.516862, -0.552054, -0.125469, 0.948989, 1.61166, 1.45074, 1.0245, 0.414257, -1.09545, -2.2935, -2.31693, -2.5119, 0.122665, -0.191969, 0.133491, 0.334089, 0.264391, -0.14948, 0.0, -0.183827, 0.250905, 0.0595986, 0.141815, 0.191969, -0.111906, -0.233388, 0.795084, 0.398951, 0.0, -0.320206, -0.784304, 0.325982, 0.469795, -0.191969, -0.773965, -0.576296, -0.171674, 0.600535, 0.0, -0.0147216, -0.729071, -1.42841, -2.46798, -2.62496, -2.6024, 0.671916, 0.382323, 0.647213, 0.297667, -0.78106, -0.984044, -0.695597, -0.588961, -0.472113, 0.499854, 0.127876, 0.368296, 0.00960703, 0.587345, 1.15673, 1.41838, 1.10998, 0.517056, 0.143297, 0.413576, 0.928796, 0.0802263, -0.759206, -1.02896, -1.27963, -1.31978, -1.55189, -1.60219, -1.14304, -1.97804, -2.86308, -2.51954, -2.56723, -0.121756, -0.21896, 0.335388, -0.0335514, -1.46523, -1.97005, -1.3792, -1.97718, -1.65662, -0.538246, -0.638104, -0.576094, -0.393466, 0.579549, 1.75805, 1.9154, 1.81562, 0.912065, 0.369786, 0.737271, 0.666457, -0.0517089, -1.10836, -1.45755, -1.31461, -2.11625, -2.33279, -2.04021, -2.12122, -2.33342, -2.65161, -2.53229, -1.84514, -1.06029, -0.598579, -0.419741, -1.23183, -2.30088, -1.84139, -1.51602, -1.77687, -2.12278, -1.5869, -1.28883, -0.793633, -0.737511, 0.502012, 1.91618, 1.48893, 1.2764, 0.701944, 0.455763, 0.76506, 1.06033, -0.696078, -1.09026, -2.11519, -1.60621, -2.23182, -2.93638, -1.95167, -2.58918, -2.69913, -2.82693, -2.70776, -2.64755, -0.720298, -1.07943, -1.55929, -2.21161, -2.70415, -2.13288, -1.44652, -1.29811, -2.14601, -2.62878, -1.93311, -1.44483, -1.16411, 0.367493, 1.16396, 0.847486, 0.0777349, -0.176871, -0.132555, 0.278, -0.151521, -1.02802, -2.11018, -1.66125, -1.63831, -2.6448, -2.68038, -3.00616, -3.14879, -3.41052, -2.76113, -3.09776, -3.63126, -1.11098, -1.72038, -2.33508, -3.05678, -3.06779, -3.07254, -2.35347, -1.78337, -2.3034, -2.6252, -2.4339, -1.85612, -1.72909, -0.307003, 0.0402135, -0.65927, -0.795953, -1.00672, -1.05783, -0.585829, -0.402818, -1.62101, -2.38126, -2.62148, -2.00526, -2.33512, -2.2541, -2.11428, -2.69801, -2.16354, -2.11898, -3.2149, -3.94188, -1.37449, -1.80795, -2.65363, -3.42259, -3.67977, -3.30962, -2.52988, -2.12552, -1.9627, -2.18208, -2.23331, -1.71956, -1.59454, -1.13309, -0.616092, -1.52406, -1.42751, -1.74146, -1.5595, -0.566297, -0.474419, -1.598, -2.76187, -3.58691, -2.3823, -1.51694, -0.774304, -1.18277, -1.60921, -1.69341, -1.3353, -2.79182, -3.31763]

[node name="Collisionmap" parent="Terrain" node_paths=PackedStringArray("physics_body") instance=ExtResource("2_8h3lw")]
script = ExtResource("4_spei5")
physics_body = NodePath("../../PlayerCharacter")
