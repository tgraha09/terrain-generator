[gd_scene load_steps=6 format=3 uid="uid://xes7inmy3vci"]

[ext_resource type="Script" path="res://demos/demo2/scripts/Terrain.gd" id="1_y5c03"]
[ext_resource type="PackedScene" uid="uid://crt5nysobiy5s" path="res://demos/demo2/collisionmap/collisionmap.tscn" id="2_8h3lw"]
[ext_resource type="PackedScene" uid="uid://di2sqd72jmgyv" path="res://demos/demo2/scenes/PlayerCharacter.tscn" id="3_mf8bh"]
[ext_resource type="Script" path="res://demos/demo2/collisionmap/collisionmap.gd" id="4_spei5"]

[sub_resource type="PlaneMesh" id="PlaneMesh_vhrpu"]
size = Vector2(32, 32)
subdivide_width = 31
subdivide_depth = 31

[node name="Main" type="Node3D"]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.926345, 0.376677, 0, -0.376677, 0.926345, 0, 24.1259, 0)

[node name="PlayerCharacter" parent="." instance=ExtResource("3_mf8bh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 6.5661, 0)

[node name="Terrain" type="StaticBody3D" parent="."]
script = ExtResource("1_y5c03")
deformity_level = 8
chunk_size = 32
template_mesh = SubResource("PlaneMesh_vhrpu")
heightmap_array = [-1.64363, -1.57388, -0.76425, -0.768857, -0.605376, -0.308264, 1.14608, 2.42848, 2.53696, 1.27835, 0.468026, -0.0303712, -0.57485, -0.748844, -0.322257, -0.888243, -0.203934, 0.520583, 0.994685, 0.992132, 0.0387927, -0.440685, -0.97779, -2.05096, -2.82154, -1.77327, -1.31145, -0.40001, 0.508938, 0.779629, -0.194324, -0.15502, -0.0253639, -1.08182, -1.00394, -0.39354, -0.31459, -0.583928, -0.10464, 1.08729, 2.66556, 3.02938, 1.61401, 1.45822, 0.759581, 0.238646, 0.160129, -0.199671, -0.0557577, 0.3325, 0.700483, 1.5872, 1.76457, 1.03291, 0.468242, -0.3381, -1.06667, -2.06321, -1.45369, -0.562824, 0.115734, 0.891132, 0.908153, -0.0344174, -0.164847, -0.350402, -0.849388, -0.472346, 0.30088, 0.657133, -0.550296, -0.714222, 0.69697, 1.88857, 2.72586, 2.70598, 1.6423, 1.55782, 0.825147, 0.738822, -0.226171, -0.241824, 0.268776, 0.949866, 1.41603, 1.46685, 1.50169, 1.19768, 0.19144, -0.923766, -0.720825, -1.04459, -0.0755729, 1.02788, 1.36387, 1.53341, 0.811531, 0.547514, 0.461418, -0.917653, -0.133721, 0.299428, -0.228985, -1.06217, -1.21898, -0.203474, 1.25783, 1.92075, 2.70172, 2.05475, 1.08773, 1.03787, 0.161564, -1.30074, -1.66854, -0.705447, 0.0169002, 1.06022, 1.2191, 1.39204, 0.627407, -0.896878, -1.36128, -0.208162, 0.0829709, 0.674779, 1.8563, 2.56947, 2.11328, 1.75946, 0.988017, 0.407724, -0.874132, -0.11549, 0.523938, -0.173766, -1.19869, -1.35816, -0.0640657, 0.821987, 0.756262, 1.29056, 1.20653, 0.462747, 0.169567, -0.733257, -1.5088, -1.10199, -0.226859, 0.649953, 1.42927, 1.2554, 0.873244, -0.453154, -1.9551, -2.10547, -0.962499, -0.532298, 0.633536, 2.33036, 2.91955, 2.28509, 1.82184, 1.20798, 0.164887, -0.470249, -0.667223, -0.128978, -1.3675, -1.62475, -1.17633, -0.28963, 0.194937, 1.3062, 1.30023, 0.68615, 0.36414, -0.144165, -0.926946, -1.70391, -1.61521, -0.0106347, 1.49465, 2.21055, 1.91553, 0.896265, 0.268752, -1.25503, -1.68122, -1.45947, -1.09098, 0.434492, 2.24461, 2.39007, 1.88927, 1.71221, 1.23058, 0.266711, -0.733996, -0.974839, -0.672345, -1.60359, -1.56771, -0.623281, 0.0, 0.654894, 1.34875, 1.17131, 0.502187, 0.0, -0.496861, -1.27692, -1.89248, -1.28406, 0.0, 1.41045, 1.66338, 1.40509, 0.812729, 0.0, -0.927531, -1.47575, -1.96318, -1.50175, 0.0, 1.55114, 2.16834, 1.67235, 0.996295, 0.603984, -0.563422, -0.799519, -0.973067, -1.13028, -1.54982, -1.48023, -0.0592814, 0.773231, 0.680873, 0.749427, 0.737422, 0.0722617, -0.526647, -0.710217, -0.668821, -0.929461, -0.496632, 0.595553, 1.73507, 1.42754, 1.27849, 0.515216, -0.326404, -1.58124, -1.88758, -2.592, -1.91647, -0.300653, 0.883365, 1.50165, 0.911572, 0.445141, -0.104984, -0.734917, -0.556811, -1.15615, -1.26258, -2.16526, -2.31849, -0.902872, -0.32866, 0.455594, 0.807051, -0.122252, -0.579054, -0.37169, -0.70212, -0.990664, -0.198741, 0.187599, 0.989651, 1.46979, 1.34692, 1.74274, 0.312761, -0.86616, -1.18312, -1.52277, -2.14988, -0.801367, -0.395271, -0.272988, -0.092434, -0.21996, -0.248073, -0.140202, -0.0098077, 0.219402, -0.32373, -0.614745, -1.33208, -1.64224, -1.50322, -1.29644, -0.68179, 0.446694, -0.293017, -0.612907, -0.688608, -0.74782, -0.915214, -0.0291992, 0.22728, 0.504184, 0.850195, 0.651312, 0.774595, -0.566066, -0.864772, -0.852036, -1.07464, -1.32549, -0.597875, -0.135392, 0.00783661, 0.0989324, 0.180866, -0.107841, 0.525428, 1.26821, 0.518595, 0.293754, -0.559274, -2.05885, -2.56695, -2.28949, -1.92398, -0.941645, -0.528719, -1.03114, -0.776475, -0.471765, -0.529289, 0.15732, 0.634048, 0.667616, 0.372785, 0.214455, 0.268043, 0.0573455, -0.657901, -1.51122, -1.9293, -1.47831, -0.854181, -0.358711, -0.182504, -0.380884, -0.287941, 0.137322, 1.34473, 1.63491, 2.47263, 0.359434, -0.206008, -0.969907, -2.14839, -2.23067, -1.8984, -1.45815, -0.739924, -0.0590349, 0.00702512, -0.323465, 0.533719, 0.672079, 0.831899, 0.715991, 0.156927, 0.0, -0.1118, -0.113792, 0.179793, -0.400126, -1.42904, -1.59944, -1.76722, -1.07319, -0.131578, -0.3325, -0.947907, -0.834701, 0.429471, 1.67055, 2.31958, 3.03683, -0.474683, -1.08696, -1.46227, -1.52186, -1.72943, -1.52534, -0.934702, 0.240581, 0.4681, 0.437062, 0.886631, 1.82447, 1.79343, 1.52032, 1.19081, -0.378776, -1.01541, -0.851117, 0.0114499, 0.299716, -0.0262039, -0.848151, -1.08352, -1.19244, -1.01829, -0.113446, -0.395176, -0.941438, -0.633868, 0.960598, 2.08046, 2.39772, 3.16596, -0.799803, -1.27673, -1.90014, -1.94106, -1.64493, -1.61604, -0.457656, 0.254326, 0.335553, 0.789994, 1.58543, 2.23237, 2.17488, 1.43727, 1.27803, -0.114287, -0.874704, -0.620415, -1.09077, -0.640476, -1.40348, -1.52099, -1.29899, -1.1649, -0.818901, 0.0206174, 0.300474, 0.490036, 0.798126, 1.97162, 2.07033, 2.19849, 2.5324, -0.164061, -0.631321, -1.5098, -2.46053, -2.11839, -1.91, -1.04878, -0.0599919, 0.25115, 0.904464, 2.10107, 2.47827, 2.26698, 1.48484, 0.916532, -0.409034, -0.134583, -0.78343, -1.55811, -1.36487, -2.32945, -2.28719, -1.25356, -1.16138, -0.471368, 0.238645, 0.905958, 1.58132, 1.42803, 2.13622, 2.86146, 2.69482, 2.22663, 0.475885, -0.0229729, -0.978345, -1.83199, -1.83982, -0.798145, -0.489898, 0.0467748, 0.322529, 0.732366, 1.89513, 2.84821, 2.29773, 1.77103, 0.936337, 0.0112267, -0.630781, -0.759802, -1.53754, -1.84726, -2.8068, -2.38905, -1.6851, -1.09257, -0.365625, -0.260282, 0.938416, 1.81268, 2.83018, 2.43894, 2.54987, 1.71457, 1.02484, 0.0867482, 0.0, -0.52653, -0.91313, -0.892334, -0.208671, 0.0, 0.411251, 0.622349, 0.504857, 1.77013, 2.52558, 2.34736, 1.45506, 1.62789, 0.236652, 0.0, -0.0955045, -1.56277, -1.45467, -2.70813, -2.52558, -2.1209, -1.5955, -1.11278, -0.812526, 0.0, 1.71287, 2.44868, 2.20132, 2.46845, 1.55075, 0.900626, 0.710433, 0.170483, -0.248911, 0.0898413, -0.0952546, 0.67966, 0.244362, 0.765999, 0.856259, 0.842151, 1.49558, 2.12473, 1.96944, 1.97747, 1.10841, 0.743559, 0.281866, -0.175396, -1.22633, -1.74264, -2.77107, -2.88612, -2.26657, -2.26605, -1.85402, -1.25276, -0.474249, 0.835491, 1.69148, 1.96576, 2.71196, 1.92426, 0.510855, 0.723469, 0.318188, -0.544434, -0.274856, 0.703079, 0.741343, 1.1746, 0.893151, 1.45916, 1.87451, 1.8426, 2.07648, 1.54656, 1.11389, 1.19911, 0.688535, -0.371049, -0.338013, -1.48329, -2.02542, -3.4878, -3.2121, -2.60701, -1.91435, -1.77483, -1.42918, -0.340805, -0.00486238, 1.03487, 2.38216, 2.43094, 1.46661, 0.394448, 0.854223, 0.190435, -0.203465, -0.678737, -0.0518719, 0.0868908, 0.275619, 1.48475, 2.54063, 2.36419, 2.02464, 1.79551, 1.31624, 0.254581, 0.630919, 0.358927, 0.00912011, -1.16441, -2.3796, -2.5647, -3.14717, -3.04925, -2.14546, -1.431, -0.71101, -0.445669, -0.807347, -0.419541, -0.0600469, 1.55064, 2.34166, 1.70932, 0.966356, 0.237027, 0.17111, -0.276237, 0.0777918, 0.22421, 0.19377, 0.63381, 1.72355, 3.09578, 2.928, 2.0047, 1.29884, -0.0832893, -0.710807, -0.669704, -0.522435, -0.804453, -1.38914, -3.0785, -3.47614, -3.38863, -3.30123, -2.21803, -1.23424, -0.445955, -0.199989, 0.0661667, 0.433044, 0.121737, 1.40335, 1.68787, 1.68038, 0.892064, 0.638701, 0.825058, 0.418177, 0.560971, 1.03286, 0.778948, 1.45815, 2.9016, 3.53597, 2.78459, 2.53103, 1.09654, -0.591011, -1.09314, -1.96189, -2.45811, -2.06213, -2.2643, -2.84269, -2.96513, -2.48147, -2.26335, -1.51993, 0.0277084, 0.254662, 0.0171096, 0.3325, 0.525234, 0.00256506, 0.545939, 0.95041, 0.931695, 0.919546, 1.35026, 1.67096, 0.731035, 0.931849, 0.981074, 1.23854, 2.32748, 3.603, 4.00242, 3.43251, 3.01545, 1.54597, -0.0233183, -2.21717, -2.65773, -2.65036, -2.60987, -2.94024, -2.58616, -2.21117, -1.16669, -1.12673, -0.442853, 0.474087, 0.914704, 0.142767, 0.267058, 0.0973893, -0.132738, -0.0210287, 0.368247, 0.818555, 0.798843, 1.66999, 2.09042, 1.80536, 0.545599, 0.406685, 0.820556, 1.65072, 2.7605, 3.24819, 2.71396, 2.73852, 2.00125, 0.229858, -1.7045, -2.01839, -2.54776, -2.69243, -3.28101, -2.12988, -0.730691, -0.268537, -0.299664, 0.239457, 0.68892, -0.14131, -0.36337, 0.317997, 0.122847, -0.12467, 0.316659, 0.640212, 1.67268, 1.2266, 1.79786, 1.46135, 1.76589, 1.29649, 0.604257, 0.0797724, 0.78778, 2.08578, 3.50481, 3.0552, 2.01637, 0.721379, -0.385556, -1.64229, -1.70953, -2.01262, -2.61668, -2.3258, -1.71884, -0.118857, 0.454587, 0.851713, 0.827078, 0.557714, -0.700964, -0.737861, -0.581967, 0.0166379, 1.35834, 2.09983, 1.89809, 2.37148, 2.56382, 0.784556, 0.419786, 0.182628, 0.35851, -1.04011, -0.99809, -0.0985916, 1.69245, 2.3096, 2.83909, 2.07599, 0.10201, -0.907475, -1.6076, -1.79743, -1.86159, -1.77563, -1.81526, -0.453476, 0.555849, 0.709255, -0.271275, -0.220385, -0.293639, -0.897524, -0.724154, -0.977234, 0.0375136, 1.67543, 1.96992, 1.98441, 2.55057, 2.54871, 0.517025, 0.191969, 0.123509, -0.768636, -1.33523, -1.54902, 0.0, 1.25312, 1.55587, 2.23589, 1.32804, 0.271485, -0.313221, -0.635456, -0.83835, -0.358074, 0.0, -0.249219, 0.285927, 1.15867, 0.505864, -0.271485, -0.860563, -1.84058, -1.0817, -0.57643, 0.0, 0.712469, 1.34649, 1.56839, 1.17514, 2.33362, 2.55365, 0.00102404, -0.237415, -0.888976, -1.15484, -1.89853, -1.63329, -0.158373, 0.908101, 1.27995, 1.18054, 1.08154, -0.239415, -0.343713, -0.563569, -0.52667, 0.856315, 1.61052, 1.12767, 0.789819, 0.652544, 0.229264, -0.555958, -1.52516, -2.20784, -1.28027, -0.263235, 0.291197, 1.24657, 1.00446, 0.525602, 0.685483, 1.51014, 1.89605, -0.789385, -1.63063, -2.03322, -2.31154, -2.51846, -1.05878, -0.24196, 0.183646, 1.24085, 1.62423, 0.641148, -0.575193, -0.637012, 0.260393, 0.645667, 1.78711, 2.11126, 2.17256, 1.80951, 0.635337, -0.498755, -1.15313, -2.19261, -2.24536, -1.49018, -1.11086, -0.155665, 0.96989, 0.641133, 0.266913, 0.689455, 1.15929, 1.55718, -0.958659, -1.99189, -2.41638, -2.99321, -3.08732, -1.3506, -0.394564, -0.57103, 0.551922, 1.27042, 0.708089, 0.644745, -0.0669789, 0.760852, 1.63325, 3.11872, 3.2662, 3.48255, 2.82405, 0.658878, 0.000494823, -0.756096, -1.90716, -2.94128, -2.41893, -1.78214, -0.936853, 0.138819, 0.423129, 0.711093, 0.740753, 1.48507, 1.42189, -1.61103, -1.8041, -2.34125, -3.38989, -3.77477, -2.52227, -0.91877, 0.311487, 1.04682, 1.28985, 0.494144, 0.248532, 1.05681, 1.23026, 1.92379, 2.78048, 3.17099, 2.65187, 2.44523, 1.15635, 0.998354, 0.282034, -0.799374, -2.37209, -2.43, -2.15016, -1.00907, 0.260751, 0.663651, 0.582419, 0.994981, 1.12631, 1.87685, -1.43341, -1.99187, -2.13914, -3.38583, -3.59674, -3.37175, -1.45815, 0.0149104, 1.34098, 0.880757, 0.842561, 0.805204, 1.10802, 1.12216, 0.93064, 2.22666, 2.33362, 1.86981, 2.41618, 1.86892, 1.68769, 0.633089, -0.618501, -0.639683, -1.47364, -1.18635, -0.332499, 1.07386, 0.480352, 0.842943, 1.13855, 1.72963, 2.23155, -1.34013, -1.518, -1.96938, -3.8147, -3.67054, -3.46838, -2.19092, -0.441628, 1.20707, 0.845036, 1.08946, 0.772, 1.08027, 0.33794, 0.637634, 0.978926, 1.31462, 1.92968, 2.06611, 2.47146, 1.82789, 0.769852, 0.139402, 0.0901069, 0.187694, -0.0793451, 0.63533, 1.48683, 0.96948, 0.27431, 1.5973, 2.20017, 2.31372]

[node name="Collisionmap" parent="Terrain" node_paths=PackedStringArray("physics_body") instance=ExtResource("2_8h3lw")]
script = ExtResource("4_spei5")
physics_body = NodePath("../../PlayerCharacter")
